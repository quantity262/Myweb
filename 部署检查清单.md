# 部署前检查清单

在部署网站之前，请确保完成以下检查：

## ✅ 服务器准备

- [ ] 已购买云服务器或准备使用内网穿透
- [ ] 已获取服务器 IP 地址和 SSH 登录信息
- [ ] 已安装 SSH 客户端（Windows: PuTTY/PowerShell, Mac/Linux: 终端）

## ✅ 软件安装

- [ ] Node.js (版本 16+)
- [ ] MySQL (版本 5.7+)
- [ ] PM2 (进程管理器)
- [ ] Nginx (可选，用于反向代理)

## ✅ 项目配置

- [ ] 已创建 `.env` 文件并配置数据库信息
- [ ] 已修改默认管理员密码（不是 admin/admin123）
- [ ] 已设置强密码的 JWT_SECRET
- [ ] 已检查 `public` 目录下的静态文件

## ✅ 数据库配置

- [ ] MySQL 服务已启动
- [ ] 已创建数据库（或使用 init-db 脚本）
- [ ] 数据库用户权限已配置
- [ ] 已测试数据库连接

## ✅ 安全设置

- [ ] 已修改默认管理员账户密码
- [ ] 已配置防火墙规则（开放必要端口）
- [ ] 已考虑使用 HTTPS（SSL 证书）
- [ ] 已备份重要数据

## ✅ 测试

- [ ] 本地测试通过（npm start）
- [ ] 数据库连接测试通过
- [ ] API 接口测试通过
- [ ] 前端页面显示正常

## ✅ 部署后验证

- [ ] 网站可以正常访问
- [ ] 登录功能正常
- [ ] 文档加载正常
- [ ] 留言功能正常
- [ ] 管理员功能正常

## 📝 部署步骤

1. 上传项目文件到服务器
2. 运行 `npm install` 安装依赖
3. 配置 `.env` 文件
4. 运行 `npm run init-db` 初始化数据库
5. 使用 PM2 启动服务：`pm2 start server.js --name myweb`
6. 配置防火墙开放端口
7. 测试访问

## 🔧 常用命令

```bash
# 查看服务状态
pm2 status

# 查看日志
pm2 logs myweb

# 重启服务
pm2 restart myweb

# 停止服务
pm2 stop myweb

# 查看端口占用
netstat -tulpn | grep 3000

# 查看 MySQL 状态
sudo systemctl status mysql
```

